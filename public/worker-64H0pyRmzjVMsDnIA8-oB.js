self.addEventListener("push",(async e=>{let t;try{t=e.data.json()}catch(n){t={message:"New Notification",body:e.data.text(),icon:"/default-icon.png"}}const{message:n,body:i,icon:a}=t;e.waitUntil(self.registration.showNotification(n,{body:i,icon:a||"/default-icon.png",badge:"/badge.png",vibrate:[100,50,100],data:{dateOfArrival:Date.now(),primaryKey:1}}))})),self.addEventListener("notificationclick",(e=>{e.notification.close(),e.waitUntil(clients.matchAll({type:"window",includeUncontrolled:!0}).then((e=>{for(const t of e)if("/"===t.url&&"focus"in t)return t.focus();if(clients.openWindow)return clients.openWindow("/")})))})),self.addEventListener("install",(e=>{e.waitUntil(caches.open("v1").then((e=>e.addAll(["/","/index.html","/styles.css","/app.js","/default-icon.png","/badge.png"]))))})),self.addEventListener("fetch",(e=>{e.respondWith(caches.match(e.request).then((t=>t||fetch(e.request))))}));